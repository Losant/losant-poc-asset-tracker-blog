{"globals":[],"triggers":[{"config":{},"outputIds":[["d5L~itSWWf"]],"key":"DeviceRecipe/GL505 Gateway","type":"deviceTag","meta":{"category":"trigger","name":"deviceIdsTags","label":"Device: State","x":300,"y":200,"uiId":"LYPQZdlcb4","description":""}}],"nodes":[{"type":"MutateNode","meta":{"category":"logic","name":"mutate","label":"Transform Data","x":300,"y":320,"description":""},"config":{"rules":[{"type":"move","destination":"data.speedKPH","source":"data.speed"},{"type":"move","destination":"data.tempC","source":"data.temp"}]},"id":"d5L~itSWWf","outputIds":[["tzdRziOAT5"]]},{"type":"MathNode","meta":{"category":"logic","name":"math","label":"Convert Metric to Imperial","x":300,"y":440,"description":""},"config":{"statements":[{"expression":"{{ data.tempC }}*1.8 + 32","resultPath":"data.tempF"},{"expression":"{{ data.speedKPH }} / 1.609344","resultPath":"data.speedMPH"}]},"id":"tzdRziOAT5","outputIds":[["srBL~kx~i~"]]},{"type":"RawFunctionNode","meta":{"category":"logic","name":"function","label":"ParseGPS","x":300,"y":580,"description":""},"config":{"script":"var gpsParts = payload.data.gpsLocation.split(',');\npayload.data.latitude = parseFloat(gpsParts[0]);\npayload.data.longitude = parseFloat(gpsParts[1]);"},"id":"srBL~kx~i~","outputIds":[["j~_CRiyxC4"]]},{"type":"GetDeviceNode","meta":{"category":"data","name":"get-device","label":"Device: Get","x":300,"y":700,"description":""},"config":{"findMethod":"tags","resultPath":"device","tagsAsObject":false,"findMultiple":false,"tags":[{"keyTemplate":"IMEI","valueTemplate":"{{ data.uniqueId }}"},{"keyTemplate":"DeviceRecipe","valueTemplate":"GL505"}]},"id":"j~_CRiyxC4","outputIds":[["cg3JyBopcz"]]},{"type":"DeviceChangeStateNode","meta":{"category":"output","name":"device-state","label":"Device State","x":300,"y":940,"description":""},"config":{"deviceIdTemplateType":"jsonPath","timeSourceType":"payloadTime","attrDataMethod":"payloadPath","deviceId":"device.id","attrPayloadPath":"data"},"id":"jdvEqDRX2D","outputIds":[["lWZFm9QKAq"]]},{"type":"ConditionalNode","meta":{"category":"logic","name":"conditional","label":"Conditional","x":300,"y":800,"description":""},"config":{"expression":"{{ device }}"},"id":"cg3JyBopcz","outputIds":[[],["jdvEqDRX2D"]]},{"type":"DebugNode","meta":{"category":"output","name":"debug","label":"Debug","x":540,"y":1040,"description":""},"config":{"message":"","property":""},"id":"lWZFm9QKAq","outputIds":[]}],"name":"Gateway Report","enabled":true,"description":"Receives data from your GL505 devices","applicationId":"5a7080dcaae2580007f89368","_type":"flow","_exportDate":"2018-01-30T15:30:03.145Z"}